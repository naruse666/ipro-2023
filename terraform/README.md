# 要件
- 月10000(円)に抑えること
- アプリケーション, インフラ, k8sマニフェストは全てこのリポジトリで管理する
- aws parameterstoreなどの値はterraformで管理したくないので、基本手動作成とする

# Deploy戦略
## Destroyワークフローの意図
月10000円以内を守ために常にリソースが稼働しているという状態を避ける。  
そのためリソース使用時に`terraform apply`を都度行う。  
リソース破棄のトリガーとなるものがないため`terraform destroy`は手動トリガーにする。

## `deploy`ブランチでのリソース作成
このリポジトリにアプリケーションコードも含むので`main`ブランチにPRが出される度に  
`terraform`関連のワークフローが動くと都合が悪い。  
そのため、`plan, apply`は`deploy`ブランチへのPRをトリガーとしている。
